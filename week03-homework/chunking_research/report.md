# 实验结果分析写在这里!

## 实验结果

--- 最终评估结果对比 ---
| 分割器             | 上下文包含答案   | 回答准确   |   上下文冗余度(1-5) | 生成回答                                                                                                    |
|:----------------|:----------|:-------|--------------:|:--------------------------------------------------------------------------------------------------------|
| Token           | 是         | 否      |             2 | 蓝色枯萎的真相是：它并非瘟疫，而是古神的呼吸，是某种古老强大存在的自我修复机制，通过清除施法者来维持封印的稳定。...                                             |
| Sentence        | 是         | 是      |             3 | 蓝色枯萎并非瘟疫，而是古神的呼吸。它是原初古神为了清除“不合格的棋子”而进行的筛选机制，每一次呼吸都会清除一部分不符合标准的梦境造物，同时也是维持封印的自我修复过程。...                  |
| Sentence Window | 是         | 否      |             5 | 蓝色枯萎的真相是：一场被遗忘的清算。它不是瘟疫，也不是神罚，而是某个曾怀抱正义之人，在理想彻底腐烂后点燃的复仇之火。那抹蓝色，是当年社团信笺上共同约定的誓言颜色，如今却成了死亡通知的标记。枯萎的不是生... |
| Semantic        | 是         | 否      |             5 | 蓝色枯萎的真相是：那封用蓝色墨水写就的信，如同当年他们宣誓时所用的笔——同样的颜色，同样的决绝。它不是神罚，也不是命运的无常，而是人心深处被遗忘的誓言在腐烂。当五个人许下守护正义的承诺时，他们以为自己... |
| Markdown        | 否         | 否      |             5 | 蓝色枯萎并非一场偶然的魔法瘟疫，而是一次有目的的筛选。它是存在于神系之前的“原初古神”为了清除“不合格的棋子”而发动的洗牌行为。这场灾难导致魔网破碎、神祇失声、绝大多数施法者死亡，实际上是封印系统自我... |

--- 最终评估结果对比 ---
| 分割器          | 上下文包含答案   | 回答准确   |   上下文冗余度(1-5) | 生成回答                                                                                                                                                                                                    |
|:----------------|:-----------------|:-----------|--------------------:|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Token           | 是               | 是         |                   2 | 蓝色枯萎并非瘟疫，而是原初古神的呼吸，是其为了清除“不合格的梦境造物”而进行的一次筛选。它也是上个纪元幸存者以全体牺牲制造的封印的自我修复机制，通过清除施法者来维持封印。那些在蓝色枯萎中幸存的免疫者，...   |
| Sentence        | 是               | 是         |                   3 | 蓝色枯萎并非瘟疫，而是原初古神的呼吸。每一次呼吸都会清除一部分“不合格”的存在，即对现实世界进行筛选和清理。它是一次由古老而强大的原初古神发起的净化行为，目的是淘汰不符合其标准的生命或造物。在这一过程...   |
| Sentence Window | 是               | 否         |                   5 | 蓝色枯萎的真相在提供的新上下文中并未提及，因此无法根据现有信息进行重写或提供新的解释。...                                                                                                                   |
| Semantic        | 是               | 否         |                   5 | 蓝色枯萎的真相是：一场被遗忘的集体背叛的回响。它并非来自古神的呼吸，而是五个曾怀抱正义理想的年轻人，在理想崩塌后所滋生的腐烂执念。那抹蓝色，是信纸上未干的墨迹，是《白夜行》扉页上的赠言，是他们共同许诺... |
| Markdown        | 否               | 否         |                   5 | 蓝色枯萎并非一场偶然的魔法瘟疫，而是一次有目的的筛选。它是存在于神系之前的“原初古神”为了清除“不合格的棋子”而发动的洗牌行为。这场灾难并非毁灭魔法，而是蓄意收回魔法力量，为即将到来的“第二次末日”做...       |

## 评估结果
多数分割策略均能召回包含正确答案的上下文，但仅有 Sentence 切片能够稳定生成准确回答。Token 切片虽然冗余度较低，但由于破坏语义边界，模型在生成阶段容易基于不完整信息进行推断，导致事实偏差最后回答时好时坏（主要看 chunk_size和chunk_overlap大小）。Sentence Window ，Semantic 与 Markdown 切片内容都巨大无比，基本都答非所问。

## 1. 哪些参数显著影响效果？为什么？

在本实验条件下，**splitter 类型、chunk_size 与 chunk_overlap** 均对最终效果产生显著影响，其中 **splitter 类型的影响最为关键**，而 chunk_size 与 chunk_overlap 共同决定了单个 chunk 的语义粒度与上下文结构。

首先，**splitter 类型直接决定 chunk 的语义边界是否完整**。实验结果显示，尽管多种分割策略均能召回包含答案的上下文，但仅有 Sentence 切片能够生成准确回答。Token 切片由于破坏句子与因果结构，导致 chunk 内语义不完整；Sentence Window、Semantic 与 Markdown 切片则因粒度过大，使模型在生成阶段更容易偏离事实。

其次，**chunk_size 决定语义信息的集中程度**。chunk_size 过小会直接报错；chunk_size 过大则会导致信息过度冗余，降低检索区分度。实验中表现最优的 Sentence 切片，体现了中等 chunk_size 在语义完整性与信息聚焦之间的优势。

最后，**chunk_overlap 决定跨 chunk 的语义连续性与冗余水平**。合理的 overlap 能缓解边界切断问题，而 overlap 过小会放大 chunk_size 偏小带来的语义断裂；overlap 过大则会制造高度相似的上下文块，显著提高冗余度。实验中冗余度最高的策略均未生成准确回答，表明过高冗余会削弱模型对关键事实的约束能力。

---

## 2. chunk_overlap 过大或过小的利弊？

当 **chunk_overlap 过小** 时，chunk 之间语义衔接不足，定义、条件或因果关系容易被切断。模型虽然检索到相关内容，但由于上下文不完整，生成阶段更容易进行主观推断，从而导致回答不准确。

当 **chunk_overlap 过大** 时，上下文中会出现大量重复或高度相似的信息，冗余度显著上升。实验结果显示，高冗余策略下模型答非所问，最终降低回答准确性。

因此，chunk_overlap 的核心作用在于**补全必要语义而非堆叠上下文**，其大小需要在语义连续性与信息多样性之间取得平衡。

---

## 3. 如何在“精确检索”与“上下文丰富性”之间权衡？

实验结果表明，单纯追求精确检索或上下文丰富性都会带来负面影响。chunk_size 过小、overlap 过低的策略虽然检索结果更加集中，但语义不完整；chunk_size 过大、overlap 过高的策略虽然上下文丰富，却引入大量无关或重复信息，削弱了事实对齐能力。

有效的权衡方式是采用**中等粒度、语义边界清晰的切分策略**。Sentence 切片在本实验中表现最优，正是因为其在单个 chunk 内提供了“足够但不过量”的上下文，使检索结果既具区分度，又能对生成阶段形成有效约束。

因此，**合理控制 chunk_size 与 chunk_overlap，以维持合适的语义粒度，是实现精确检索与高质量生成之间平衡的关键**。


## 4. 这个实验结果跟 example 的差别感觉挺大的，我也不知道咋回事